<!DOCTYPE html>
<html>
  <head>
    <!-- no puede utiliza este odigo po derechos de autor Giovanni Ernesto rodriguez diaz  -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pintura 3d Gio</title>

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
    <script src="https://assets.babylonjs.com/generated/Assets.js"></script>
    <script src="https://cdn.babylonjs.com/recast.js"></script>
    <script src="https://cdn.babylonjs.com/ammo.js"></script>
    <script src="https://cdn.babylonjs.com/havok/HavokPhysics_umd.js"></script>
    <script src="https://cdn.babylonjs.com/cannon.js"></script>
    <script src="https://cdn.babylonjs.com/Oimo.js"></script>
    <script src="https://cdn.babylonjs.com/earcut.min.js"></script>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
    <script src="https://cdn.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
    <script src="https://cdn.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.js"></script>
    <script src="https://cdn.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script src="https://cdn.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>

    <style>
      html,
      body {
        overflow: hidden;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #renderCanvas {
        width: 100%;
        height: 100%;
        touch-action: none;
      }

      #canvasZone {
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      #idpaneldecontrol2 {
        position: absolute;
        top: 70%;
        left: 1%;

        width: auto;
        height: 80px;
        background-color: rgb(0, 0, 0);
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: flex-start;
        align-items: flex-start;
        align-content: center;
      }

      #idpaneldecontrol2 * {
        margin-bottom: 1rem;
      }

      #idclickInputfile {
      }

      .displanenoe {
        display: none;
      }

      .clhover:hover {
        color: rgb(27, 145, 255);
        border: 3px solid rgb(27, 145, 255);
      }

      .clcirlce {
        position: relative;
        width: 20px;
        height: 79px;
        border: 3px solid #c7c7c7;
        border-radius: 50%;
        background-color: #000000b9;
        color: #ffffff;

        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        align-content: center;

        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <div id="canvasZone"><canvas id="renderCanvas"></canvas></div>

    <div id="idpaneldecontrol2">
      <div
        id="idclickInputfile"
        class="clhover clcirlce"
        onclick="loadInputfilesIDdvv()"
      >
        &#x2681;
      </div>
      <script>
        function loadInputfilesIDdvv() {
          document.getElementById("fileInput").click();
        }
      </script>
      <input
        id="fileInput"
        class="displanenoe"
        type="file"
        accept=".glb, .obj"
      />
      <div
        id="idclickInputTexture"
        class="clhover clcirlce"
        onclick="loadInputfilesIDdvvTexture()"
      >
        &#x268F;
      </div>
      <script>
        function loadInputfilesIDdvvTexture() {
          document.getElementById("textureUploader").click();
        }
      </script>
      <input
        type="file"
        id="textureUploader"
        class="displanenoe"
        accept="image/*"
      />
    </div>
    <img id="idimggiob" src="" alt="" />
    <script>
        const _0x4b8ca1=_0x40a8;function _0x40a8(_0x5af222,_0x2770fb){const _0x44304c=_0x4430();return _0x40a8=function(_0x40a8aa,_0x34cb48){_0x40a8aa=_0x40a8aa-0x66;let _0x29e377=_0x44304c[_0x40a8aa];return _0x29e377;},_0x40a8(_0x5af222,_0x2770fb);}(function(_0x43dbe5,_0x7dc19f){const _0x5047c4=_0x40a8,_0x413a1e=_0x43dbe5();while(!![]){try{const _0x552b42=-parseInt(_0x5047c4(0xbf))/0x1+parseInt(_0x5047c4(0xae))/0x2*(parseInt(_0x5047c4(0x72))/0x3)+-parseInt(_0x5047c4(0x6c))/0x4+-parseInt(_0x5047c4(0x100))/0x5*(parseInt(_0x5047c4(0xab))/0x6)+-parseInt(_0x5047c4(0xea))/0x7+-parseInt(_0x5047c4(0x87))/0x8+-parseInt(_0x5047c4(0x7a))/0x9*(-parseInt(_0x5047c4(0x7e))/0xa);if(_0x552b42===_0x7dc19f)break;else _0x413a1e['push'](_0x413a1e['shift']());}catch(_0x532bfb){_0x413a1e['push'](_0x413a1e['shift']());}}}(_0x4430,0x37fc4));function _0x4430(){const _0x27e336=['220px','dynamic\x20texture','pickedMesh','width','src','80yWFjSz','materials','runRenderLoop','length','AppendAsync','log','slice','Tamaño\x20de\x20brocha:\x20','Rotación\x20de\x20brocha:\x200°','pickedPoint','200px','verticalAlignment','image/png','debugLayer','TextBlock','fillRect','height','40px','toDataURL','Las\x20imágenes\x20deben\x20tener\x20el\x20mismo\x20tamaño.','MeshBuilder','559112AgjWRI','Tamaño\x20de\x20brocha:\x2050','PointerEventTypes','-90px','100px','background','6OBBmyQ','No\x20UV\x20data\x20found\x20for\x20the\x20mesh.','No\x20se\x20pudo\x20cargar\x20la\x20imagen.','onload','warn','minimum','clone','pbrMaterial','4677363EDUsOp','Dot','Bloquear\x20rotación','button','20wGnVyh','readAsDataURL','color4','brushTexture','diffuseTexture','No\x20se\x20pudo\x20obtener\x20el\x20contexto\x202D\x20del\x20canvas.','POINTERDOWN','round','left','977944QMesuQ','textureUploader','arc','onerror','meshes','currentBrush','result','pointerY','roughness','/brush.png','Slider','random','.glb,\x20.obj','onIsCheckedChangedObservable','fillStyle','cos','value','pointerX','scene','fileInput','addEventListener','UVs\x20adjusted\x20and\x20applied.','map','addControl','text','CreateFromPrefilteredData','createDefaultCameraOrLight','getContext','CreateScene','DynamicTexture','getElementById','getVerticesData','detachControl','albedoTexture','StandardMaterial','CreateSimpleButton','40020zUFyFC','rgba(0,\x200,\x200,\x200.5)','Color\x204','168856QGWYik','target','subtract','-60px','SceneLoader','b1.png','MAX_VALUE','onValueChangedObservable','10px','Rotación\x20de\x20brocha:\x20','getImageData','Anonymous','rgba(255,255,255,','name','GUI','sin','engine','244974kPRPmd','CubeTexture','CreateFullscreenUI','AdvancedDynamicTexture','data','Vector3','VERTICAL_ALIGNMENT_BOTTOM','hdrSkyBox','then','add','material','FromArray','./brush.png','maximum','top','type','Checkbox','isChecked','20px','blue','getRenderingCanvas','files','PBRMaterial','crossOrigin','canvasdetexture','resize','horizontalAlignment','putImageData','HORIZONTAL_ALIGNMENT_LEFT','update','metallic','VertexBuffer','beginPath','cubeMaterial','apintarB.png','pick','skyBox',',\x20V:\x20','UVKind','UV\x20Scale\x20-\x20U:\x20','getIndices','-120px','Button','2556673hYNFkN','dispose','canvas','createElement','Control','floor','white','color','-10px','Scene','forEach','drawImage','hit','getTextureCoordinates','onPointerObservable','show','change'];_0x4430=function(){return _0x27e336;};return _0x4430();}let brushSize=0x32,brushRotation=0x0;var SceneLoader=BABYLON[_0x4b8ca1(0xb2)],canvas=document['getElementById']('renderCanvas'),startRenderLoop=function(_0x45c274,_0x4f4379){const _0x1718af=_0x4b8ca1;_0x45c274[_0x1718af(0x102)](function(){sceneToRender&&sceneToRender['activeCamera']&&sceneToRender['render']();});},engine=null,scene=null,sceneToRender=null,createDefaultEngine=function(){return new BABYLON['Engine'](canvas,!![],{'preserveDrawingBuffer':!![],'stencil':!![],'disableWebGL2Support':![]});};class Playground{static async[_0x4b8ca1(0xa3)](_0x4c1828){const _0x171e0f=_0x4b8ca1,_0x51e509=new BABYLON[(_0x171e0f(0xf3))](_0x4c1828),_0xf8f32b=BABYLON[_0x171e0f(0xc0)][_0x171e0f(0xa0)]('textures/environment.dds',_0x51e509),_0x47b770=_0x51e509['createDefaultSkybox'](_0xf8f32b,!![]),_0xb9a5a=BABYLON[_0x171e0f(0x6b)]['CreateBox']('cube',{'size':0x1},_0x51e509);let _0x4c3fa7=0x400,_0x5fd80c=new BABYLON[(_0x171e0f(0xa4))]('dynamic\x20texture',{'width':_0x4c3fa7,'height':_0x4c3fa7},_0x51e509),_0x25210a=_0x5fd80c[_0x171e0f(0xa2)]();_0x25210a['fillStyle']=_0x171e0f(0xf0),_0x25210a[_0x171e0f(0x66)](0x0,0x0,_0x4c3fa7,_0x4c3fa7),_0x5fd80c[_0x171e0f(0xdc)]();let _0x543bf3=new BABYLON[(_0x171e0f(0xa9))](_0x171e0f(0xe0),_0x51e509);_0x543bf3[_0x171e0f(0x82)]=_0x5fd80c,_0xb9a5a[_0x171e0f(0xc9)]=_0x543bf3;const _0x5eaa39=function(_0x5e0c35){const _0x4d2a80=_0x171e0f,_0x13d739=new BABYLON['DynamicTexture']('brushTexture',{'width':0x32,'height':0x32},_0x51e509),_0x4efaf0=_0x13d739['getContext']();_0x4efaf0[_0x4d2a80(0x95)]=_0x5e0c35,_0x4efaf0['fillRect'](0x0,0x0,0x32,0x32);for(let _0x54422a=0x0;_0x54422a<0x1f4;_0x54422a++){_0x4efaf0['fillStyle']=_0x4d2a80(0xba)+Math[_0x4d2a80(0x92)]()*0.2+')',_0x4efaf0[_0x4d2a80(0xdf)](),_0x4efaf0[_0x4d2a80(0x89)](Math['random']()*0x32,Math['random']()*0x32,Math[_0x4d2a80(0x92)]()*0x2,0x0,Math['PI']*0x2),_0x4efaf0['fill']();}return _0x13d739[_0x4d2a80(0xdc)](),_0x13d739;},_0x30c049=function(_0x3604f9,_0x32bf10=null){return new Promise(_0x2358af=>{const _0x5e977e=_0x40a8,_0x4584fd=new BABYLON[(_0x5e977e(0xa4))](_0x5e977e(0x81),{'width':0x32,'height':0x32},_0x51e509),_0x3c5a90=_0x4584fd[_0x5e977e(0xa2)]();if(_0x32bf10){const _0x52ec00=new Image();_0x52ec00[_0x5e977e(0x75)]=function(){const _0x31a43d=_0x5e977e;_0x3c5a90[_0x31a43d(0xf5)](_0x52ec00,0x0,0x0,0x32,0x32),_0x4584fd['update'](),_0x2358af(_0x4584fd);},_0x52ec00['src']=_0x32bf10;}else{_0x3c5a90[_0x5e977e(0x95)]=_0x3604f9,_0x3c5a90['fillRect'](0x0,0x0,0x32,0x32);for(let _0x5c8e62=0x0;_0x5c8e62<0x1f4;_0x5c8e62++){_0x3c5a90[_0x5e977e(0x95)]=_0x5e977e(0xba)+Math[_0x5e977e(0x92)]()*0.2+')',_0x3c5a90[_0x5e977e(0xdf)](),_0x3c5a90['arc'](Math['random']()*0x32,Math[_0x5e977e(0x92)]()*0x32,Math[_0x5e977e(0x92)]()*0x2,0x0,Math['PI']*0x2),_0x3c5a90['fill']();}_0x4584fd[_0x5e977e(0xdc)](),_0x2358af(_0x4584fd);}});},_0x2b3969={'color1':_0x30c049('red'),'color2':_0x30c049(_0x171e0f(0xd2)),'color3':_0x30c049('green'),'color4':null},_0x303982=new Image();_0x303982[_0x171e0f(0x75)]=function(){const _0x2a50e8=_0x171e0f,_0x551cb0=new BABYLON['DynamicTexture']('color4Texture',{'width':0x32,'height':0x32},_0x51e509),_0x4565c6=_0x551cb0[_0x2a50e8(0xa2)]();_0x4565c6[_0x2a50e8(0xf5)](_0x303982,0x0,0x0,0x32,0x32),_0x551cb0['update'](),_0x2b3969[_0x2a50e8(0x80)]=_0x551cb0;},_0x303982[_0x171e0f(0xff)]=_0x171e0f(0xe1);const _0x5c7c21=document[_0x171e0f(0xa5)](_0x171e0f(0x88));_0x5c7c21[_0x171e0f(0x9b)](_0x171e0f(0xfa),function(_0x1e93be){const _0x49fde7=_0x171e0f,_0x356b15=_0x1e93be[_0x49fde7(0xaf)][_0x49fde7(0xd4)][0x0];if(_0x356b15){const _0x3895e0=new FileReader();_0x3895e0['onload']=function(_0x197f93){const _0x3df404=_0x49fde7;_0x3f6305(_0x197f93[_0x3df404(0xaf)][_0x3df404(0x8d)],_0x3df404(0xcb));},_0x3895e0['readAsDataURL'](_0x356b15);}});var _0x3f6305=async(_0x1bf865,_0xb7768b)=>{const _0x48c3e8=_0x171e0f;await _0x2c8c31(_0x1bf865,0x400,0x400),await _0x5f00e1('./brush.png',0x400,0x400);var _0x18b51c=_0x45962c(_0x3d32e8),_0x4ed5a2=_0x45962c(_0x4aa527);let _0x255af2=_0x15f4c9(_0x18b51c,_0x4ed5a2),_0x4ce7e6=_0x3d32e8['getContext']('2d');_0x4ce7e6['putImageData'](_0x255af2,0x0,0x0),_0x303982[_0x48c3e8(0xff)]=_0x3d32e8[_0x48c3e8(0x69)](_0x48c3e8(0x10c));};let _0x48bee1='color1';const _0x9a8478=function(_0x39fa1b){const _0x2c571a=_0x171e0f,_0x20a1ac=_0x51e509['pick'](_0x51e509['pointerX'],_0x51e509[_0x2c571a(0x8e)]);if(_0x20a1ac[_0x2c571a(0xf6)]&&!![]){const _0x2e361c=_0x20a1ac[_0x2c571a(0xf7)]();if(_0x2e361c){const _0x31c9b8=Math[_0x2c571a(0xef)](_0x2e361c['x']*_0x4c3fa7),_0x421a80=Math[_0x2c571a(0xef)]((0x1-_0x2e361c['y'])*_0x4c3fa7);if(_0x2b3969[_0x48bee1]){const _0x50b149=_0x2b3969[_0x48bee1][_0x2c571a(0xa2)]()[_0x2c571a(0xec)],_0x52cfee=_0x2b3969[_0x48bee1]['getContext']()[_0x2c571a(0xb8)](0x0,0x0,0x32,0x32),_0x204fb2=_0x25210a[_0x2c571a(0xb8)](_0x31c9b8-brushSize/0x2,_0x421a80-brushSize/0x2,brushSize,brushSize),_0x1fd2df=brushSize/0x2,_0x1eb7df=brushSize/0x2,_0x42cc3d=brushRotation*Math['PI']/0xb4;for(let _0x525e93=0x0;_0x525e93<_0x204fb2[_0x2c571a(0xc3)]['length'];_0x525e93+=0x4){const _0x5c5ddf=_0x525e93/0x4%brushSize,_0x3b1662=Math['floor'](_0x525e93/0x4/brushSize),_0x2d0b31=Math[_0x2c571a(0x96)](_0x42cc3d)*(_0x5c5ddf-_0x1fd2df)-Math[_0x2c571a(0xbd)](_0x42cc3d)*(_0x3b1662-_0x1eb7df)+_0x1fd2df,_0x3ab8bd=Math['sin'](_0x42cc3d)*(_0x5c5ddf-_0x1fd2df)+Math[_0x2c571a(0x96)](_0x42cc3d)*(_0x3b1662-_0x1eb7df)+_0x1eb7df,_0x2437a0=Math[_0x2c571a(0xef)](_0x2d0b31*(0x32/brushSize)),_0x2fe146=Math[_0x2c571a(0xef)](_0x3ab8bd*(0x32/brushSize));if(_0x2437a0>=0x0&&_0x2437a0<0x32&&_0x2fe146>=0x0&&_0x2fe146<0x32){const _0x92e9c5=(_0x2fe146*0x32+_0x2437a0)*0x4,_0x576553=_0x52cfee['data'][_0x92e9c5+0x3]/0xff;_0x204fb2['data'][_0x525e93]=_0x52cfee[_0x2c571a(0xc3)][_0x92e9c5]*_0x576553+_0x204fb2['data'][_0x525e93]*(0x1-_0x576553),_0x204fb2['data'][_0x525e93+0x1]=_0x52cfee[_0x2c571a(0xc3)][_0x92e9c5+0x1]*_0x576553+_0x204fb2['data'][_0x525e93+0x1]*(0x1-_0x576553),_0x204fb2[_0x2c571a(0xc3)][_0x525e93+0x2]=_0x52cfee[_0x2c571a(0xc3)][_0x92e9c5+0x2]*_0x576553+_0x204fb2[_0x2c571a(0xc3)][_0x525e93+0x2]*(0x1-_0x576553);}}_0x25210a[_0x2c571a(0xda)](_0x204fb2,_0x31c9b8-brushSize/0x2,_0x421a80-brushSize/0x2),_0x5fd80c[_0x2c571a(0xdc)]();}}}},_0xad1db0=function(_0x354a26){const _0x54818e=_0x171e0f,_0x5cc339=_0x51e509[_0x54818e(0xe2)](_0x51e509[_0x54818e(0x98)],_0x51e509['pointerY']);if(_0x5cc339[_0x54818e(0xf6)]){const _0x584da3=_0x5cc339[_0x54818e(0x109)],_0x518380=_0x5cc339[_0x54818e(0xfd)],_0x395e73=_0x12bf25(_0x584da3,_0x518380);if(_0x395e73){const _0x4724f7=Math[_0x54818e(0xef)](_0x395e73['x']*_0x4c3fa7),_0x2c0571=Math['floor']((0x1-_0x395e73['y'])*_0x4c3fa7);if(_0x2b3969[_0x48bee1]){const _0x49f18e=_0x2b3969[_0x48bee1][_0x54818e(0xa2)]()[_0x54818e(0xb8)](0x0,0x0,0x32,0x32),_0x9d3455=_0x25210a[_0x54818e(0xb8)](_0x4724f7-brushSize/0x2,_0x2c0571-brushSize/0x2,brushSize,brushSize);for(let _0x1ec659=0x0;_0x1ec659<_0x9d3455[_0x54818e(0xc3)][_0x54818e(0x103)];_0x1ec659+=0x4){const _0x240bad=_0x1ec659/0x4%brushSize,_0x1da98b=Math['floor'](_0x1ec659/0x4/brushSize),_0x24d19e=Math['cos'](brushRotation*Math['PI']/0xb4)*(_0x240bad-brushSize/0x2)-Math['sin'](brushRotation*Math['PI']/0xb4)*(_0x1da98b-brushSize/0x2)+brushSize/0x2,_0x9b8e1c=Math['sin'](brushRotation*Math['PI']/0xb4)*(_0x240bad-brushSize/0x2)+Math[_0x54818e(0x96)](brushRotation*Math['PI']/0xb4)*(_0x1da98b-brushSize/0x2)+brushSize/0x2,_0x3640de=Math[_0x54818e(0xef)](_0x24d19e*(0x32/brushSize)),_0x5962ba=Math[_0x54818e(0xef)](_0x9b8e1c*(0x32/brushSize));if(_0x3640de>=0x0&&_0x3640de<0x32&&_0x5962ba>=0x0&&_0x5962ba<0x32){const _0x42241b=(_0x5962ba*0x32+_0x3640de)*0x4,_0x2b8997=_0x49f18e['data'][_0x42241b+0x3]/0xff;_0x9d3455[_0x54818e(0xc3)][_0x1ec659]=_0x49f18e['data'][_0x42241b]*_0x2b8997+_0x9d3455[_0x54818e(0xc3)][_0x1ec659]*(0x1-_0x2b8997),_0x9d3455[_0x54818e(0xc3)][_0x1ec659+0x1]=_0x49f18e[_0x54818e(0xc3)][_0x42241b+0x1]*_0x2b8997+_0x9d3455[_0x54818e(0xc3)][_0x1ec659+0x1]*(0x1-_0x2b8997),_0x9d3455[_0x54818e(0xc3)][_0x1ec659+0x2]=_0x49f18e[_0x54818e(0xc3)][_0x42241b+0x2]*_0x2b8997+_0x9d3455[_0x54818e(0xc3)][_0x1ec659+0x2]*(0x1-_0x2b8997);}}_0x25210a[_0x54818e(0xda)](_0x9d3455,_0x4724f7-brushSize/0x2,_0x2c0571-brushSize/0x2),_0x5fd80c['update']();}}}};function _0x12bf25(_0x2d5e93,_0x2b4a75){const _0x5f0604=_0x171e0f,_0x28e82b=_0x2b4a75['getVerticesData'](BABYLON['VertexBuffer']['PositionKind']),_0xc680e4=_0x2b4a75[_0x5f0604(0xa6)](BABYLON[_0x5f0604(0xde)][_0x5f0604(0xe5)]),_0x27ff8b=_0x2b4a75[_0x5f0604(0xe7)]();if(_0x28e82b&&_0xc680e4&&_0x27ff8b){const _0x2ba41a=_0x27ff8b[_0x5f0604(0x103)];let _0x481220=null,_0x2113be=Number['MAX_VALUE'];for(let _0x1a53bc=0x0;_0x1a53bc<_0x2ba41a;_0x1a53bc+=0x3){const _0x529d1d=_0x27ff8b[_0x1a53bc],_0x3607ce=_0x27ff8b[_0x1a53bc+0x1],_0x1c0bab=_0x27ff8b[_0x1a53bc+0x2],_0x513bdd=BABYLON[_0x5f0604(0xc4)]['FromArray'](_0x28e82b,_0x529d1d*0x3),_0x50af0a=BABYLON[_0x5f0604(0xc4)][_0x5f0604(0xca)](_0x28e82b,_0x3607ce*0x3),_0x1c1579=BABYLON[_0x5f0604(0xc4)][_0x5f0604(0xca)](_0x28e82b,_0x1c0bab*0x3),_0x53f250=_0xc680e4[_0x529d1d*0x2],_0x5a1e45=_0xc680e4[_0x529d1d*0x2+0x1],_0x49c0d5=_0xc680e4[_0x3607ce*0x2],_0x53ffb2=_0xc680e4[_0x3607ce*0x2+0x1],_0x2c9bca=_0xc680e4[_0x1c0bab*0x2],_0x545fd7=_0xc680e4[_0x1c0bab*0x2+0x1],_0x4963e4=_0x4d6d5a(_0x2d5e93,_0x513bdd,_0x50af0a,_0x1c1579);if(_0x4963e4){const _0x291270={'x':_0x4963e4['x']*_0x53f250+_0x4963e4['y']*_0x49c0d5+_0x4963e4['z']*_0x2c9bca,'y':_0x4963e4['x']*_0x5a1e45+_0x4963e4['y']*_0x53ffb2+_0x4963e4['z']*_0x545fd7};return _0x291270;}}}return{'x':0x0,'y':0x0};}function _0x4d6d5a(_0x3fa6af,_0x39a4b3,_0x29ac7d,_0xa4e9ef){const _0x308d14=_0x171e0f,_0x258387=_0x29ac7d['subtract'](_0x39a4b3),_0x3cfa66=_0xa4e9ef[_0x308d14(0xb0)](_0x39a4b3),_0x32542b=_0x3fa6af[_0x308d14(0xb0)](_0x39a4b3),_0x32801f=BABYLON[_0x308d14(0xc4)][_0x308d14(0x7b)](_0x258387,_0x258387),_0x347d87=BABYLON[_0x308d14(0xc4)][_0x308d14(0x7b)](_0x258387,_0x3cfa66),_0x5f1730=BABYLON[_0x308d14(0xc4)]['Dot'](_0x258387,_0x32542b),_0x4e98c4=BABYLON[_0x308d14(0xc4)][_0x308d14(0x7b)](_0x3cfa66,_0x3cfa66),_0x299758=BABYLON[_0x308d14(0xc4)][_0x308d14(0x7b)](_0x3cfa66,_0x32542b),_0x200ba1=0x1/(_0x32801f*_0x4e98c4-_0x347d87*_0x347d87),_0x2be26f=(_0x4e98c4*_0x5f1730-_0x347d87*_0x299758)*_0x200ba1,_0x23c163=(_0x32801f*_0x299758-_0x347d87*_0x5f1730)*_0x200ba1;return{'x':_0x2be26f,'y':_0x23c163,'z':0x1-_0x2be26f-_0x23c163};}_0x51e509[_0x171e0f(0xf8)]['add'](_0x48d627=>{const _0x1ee976=_0x171e0f;_0x48d627[_0x1ee976(0xce)]===BABYLON[_0x1ee976(0x6e)][_0x1ee976(0x84)]&&_0x9a8478(_0x48d627);});const _0x292833=BABYLON['GUI'][_0x171e0f(0xc2)][_0x171e0f(0xc1)]('UI'),_0x19c062=function(_0x5180fb,_0x2a4b75,_0x248812){const _0x52cd4a=_0x171e0f;console[_0x52cd4a(0x105)](_0x5180fb,_0x2a4b75,_0x248812);const _0x2d36ba=BABYLON[_0x52cd4a(0xbc)][_0x52cd4a(0xe9)][_0x52cd4a(0xaa)](_0x52cd4a(0x7d)+_0x5180fb,_0x5180fb);_0x2d36ba['width']=_0x52cd4a(0x70),_0x2d36ba['height']='40px',_0x2d36ba[_0x52cd4a(0xf1)]='white',_0x2d36ba[_0x52cd4a(0x71)]=_0x2a4b75,_0x2d36ba['horizontalAlignment']=BABYLON['GUI'][_0x52cd4a(0xee)]['HORIZONTAL_ALIGNMENT_LEFT'],_0x2d36ba[_0x52cd4a(0x10b)]=BABYLON[_0x52cd4a(0xbc)][_0x52cd4a(0xee)][_0x52cd4a(0xc5)],_0x2d36ba[_0x52cd4a(0x86)]=_0x248812,_0x2d36ba['top']=_0x52cd4a(0xf2),_0x2d36ba['onPointerUpObservable']['add'](function(){const _0x5ecdd0=_0x52cd4a;_0x48bee1=_0x5ecdd0(0xf1)+_0x5180fb[_0x5ecdd0(0x106)](-0x1),console[_0x5ecdd0(0x105)](_0x48bee1,_0x5ecdd0(0x8c));}),_0x292833[_0x52cd4a(0x9e)](_0x2d36ba);};_0x19c062(_0x171e0f(0xad),_0x171e0f(0xac),_0x171e0f(0xb6)),_0x48bee1=_0x171e0f(0x80);const _0xdcae57=new BABYLON[(_0x171e0f(0xbc))][(_0x171e0f(0x91))]();_0xdcae57[_0x171e0f(0x77)]=0x0,_0xdcae57[_0x171e0f(0xcc)]=0x3e8,_0xdcae57[_0x171e0f(0x97)]=0x32,_0xdcae57[_0x171e0f(0x67)]='20px',_0xdcae57[_0x171e0f(0xfe)]=_0x171e0f(0x10a),_0xdcae57[_0x171e0f(0xd9)]=BABYLON[_0x171e0f(0xbc)][_0x171e0f(0xee)][_0x171e0f(0xdb)],_0xdcae57[_0x171e0f(0x10b)]=BABYLON[_0x171e0f(0xbc)]['Control']['VERTICAL_ALIGNMENT_BOTTOM'],_0xdcae57[_0x171e0f(0x86)]=_0x171e0f(0xb6),_0xdcae57[_0x171e0f(0xcd)]=_0x171e0f(0xb1),_0xdcae57[_0x171e0f(0xb5)]['add'](function(_0x2f19b9){brushSize=_0x2f19b9;}),_0x292833['addControl'](_0xdcae57);const _0x25fd49=new BABYLON[(_0x171e0f(0xbc))]['TextBlock']();_0x25fd49[_0x171e0f(0x9f)]=_0x171e0f(0x6d),_0x25fd49[_0x171e0f(0x67)]=_0x171e0f(0xd1),_0x25fd49[_0x171e0f(0xf1)]='white',_0x25fd49['horizontalAlignment']=BABYLON[_0x171e0f(0xbc)][_0x171e0f(0xee)][_0x171e0f(0xdb)],_0x25fd49['verticalAlignment']=BABYLON[_0x171e0f(0xbc)][_0x171e0f(0xee)][_0x171e0f(0xc5)],_0x25fd49[_0x171e0f(0x86)]='220px',_0x25fd49[_0x171e0f(0xcd)]='-60px',_0x292833[_0x171e0f(0x9e)](_0x25fd49),_0xdcae57[_0x171e0f(0xb5)][_0x171e0f(0xc8)](function(_0x694a98){const _0x2678a6=_0x171e0f;brushSize=_0x694a98,_0x25fd49['text']=_0x2678a6(0x107)+Math[_0x2678a6(0x85)](_0x694a98);});const _0x1d83a5=new BABYLON[(_0x171e0f(0xbc))][(_0x171e0f(0xcf))]();_0x1d83a5['width']=_0x171e0f(0xd1),_0x1d83a5[_0x171e0f(0x67)]=_0x171e0f(0xd1),_0x1d83a5[_0x171e0f(0xd0)]=![],_0x1d83a5[_0x171e0f(0xd9)]=BABYLON['GUI'][_0x171e0f(0xee)][_0x171e0f(0xdb)],_0x1d83a5[_0x171e0f(0x10b)]=BABYLON['GUI']['Control']['VERTICAL_ALIGNMENT_BOTTOM'],_0x1d83a5['left']=_0x171e0f(0xb6),_0x1d83a5[_0x171e0f(0xcd)]=_0x171e0f(0x6f),_0x1d83a5[_0x171e0f(0x94)][_0x171e0f(0xc8)](function(_0x583d32){const _0x3efd02=_0x171e0f;isRotationLocked=_0x583d32,_0x15b002[_0x3efd02(0xa7)](canvas),!_0x583d32&&_0x15b002['attachControl'](canvas,!![]);}),_0x292833[_0x171e0f(0x9e)](_0x1d83a5);const _0xaf8820=new BABYLON[(_0x171e0f(0xbc))]['TextBlock']();_0xaf8820[_0x171e0f(0x9f)]=_0x171e0f(0x7c),_0xaf8820[_0x171e0f(0x67)]='20px',_0xaf8820[_0x171e0f(0xf1)]='white',_0xaf8820[_0x171e0f(0xd9)]=BABYLON['GUI'][_0x171e0f(0xee)]['HORIZONTAL_ALIGNMENT_LEFT'],_0xaf8820['verticalAlignment']=BABYLON['GUI'][_0x171e0f(0xee)][_0x171e0f(0xc5)],_0xaf8820['left']=_0x171e0f(0x68),_0xaf8820['top']='-90px',_0x292833['addControl'](_0xaf8820);const _0x426233=new BABYLON[(_0x171e0f(0xbc))][(_0x171e0f(0x91))]();_0x426233['minimum']=0x0,_0x426233['maximum']=0x168,_0x426233['value']=0x0,_0x426233[_0x171e0f(0x67)]='20px',_0x426233[_0x171e0f(0xfe)]='200px',_0x426233[_0x171e0f(0xd9)]=BABYLON[_0x171e0f(0xbc)][_0x171e0f(0xee)][_0x171e0f(0xdb)],_0x426233[_0x171e0f(0x10b)]=BABYLON['GUI']['Control'][_0x171e0f(0xc5)],_0x426233[_0x171e0f(0x86)]=_0x171e0f(0xb6),_0x426233['top']=_0x171e0f(0xe8),_0x426233[_0x171e0f(0xb5)][_0x171e0f(0xc8)](function(_0xa0d328){brushRotation=_0xa0d328;}),_0x292833[_0x171e0f(0x9e)](_0x426233);const _0x43b2c6=new BABYLON[(_0x171e0f(0xbc))][(_0x171e0f(0x10e))]();_0x43b2c6[_0x171e0f(0x9f)]=_0x171e0f(0x108),_0x43b2c6[_0x171e0f(0x67)]='20px',_0x43b2c6[_0x171e0f(0xf1)]=_0x171e0f(0xf0),_0x43b2c6[_0x171e0f(0xd9)]=BABYLON[_0x171e0f(0xbc)]['Control'][_0x171e0f(0xdb)],_0x43b2c6[_0x171e0f(0x10b)]=BABYLON['GUI']['Control']['VERTICAL_ALIGNMENT_BOTTOM'],_0x43b2c6[_0x171e0f(0x86)]=_0x171e0f(0xfb),_0x43b2c6['top']=_0x171e0f(0xe8),_0x292833[_0x171e0f(0x9e)](_0x43b2c6),_0x426233[_0x171e0f(0xb5)]['add'](function(_0x5d0977){const _0x510322=_0x171e0f;brushRotation=_0x5d0977,_0x43b2c6[_0x510322(0x9f)]=_0x510322(0xb7)+Math[_0x510322(0x85)](_0x5d0977)+'°';});function _0x15f4c9(_0x2c41c0,_0x1279c2){const _0x51d708=_0x171e0f;if(_0x2c41c0[_0x51d708(0xfe)]!==_0x1279c2[_0x51d708(0xfe)]||_0x2c41c0[_0x51d708(0x67)]!==_0x1279c2[_0x51d708(0x67)])throw new Error(_0x51d708(0x6a));const _0x1c07ab=_0x2c41c0['width'],_0x5834b2=_0x2c41c0[_0x51d708(0x67)],_0x45c964=_0x2c41c0[_0x51d708(0xc3)],_0x31c652=_0x1279c2['data'],_0x323fc1=new ImageData(_0x1c07ab,_0x5834b2),_0x58a45b=_0x323fc1[_0x51d708(0xc3)];for(let _0x402a25=0x0;_0x402a25<_0x45c964[_0x51d708(0x103)];_0x402a25+=0x4){const _0x5da7bd=_0x45c964[_0x402a25],_0x22c13e=_0x45c964[_0x402a25+0x1],_0x408fdd=_0x45c964[_0x402a25+0x2],_0x50630b=_0x45c964[_0x402a25+0x3]/0xff,_0x249848=_0x31c652[_0x402a25],_0x37cc10=_0x31c652[_0x402a25+0x1],_0x2a8bdc=_0x31c652[_0x402a25+0x2],_0x3046e3=_0x31c652[_0x402a25+0x3]/0xff;_0x58a45b[_0x402a25]=_0x5da7bd,_0x58a45b[_0x402a25+0x1]=_0x22c13e,_0x58a45b[_0x402a25+0x2]=_0x408fdd,_0x58a45b[_0x402a25+0x3]=_0x249848;}return _0x323fc1;}var _0x3d32e8=null;function _0x2c8c31(_0x238dd4,_0x391c4c=0x400,_0xdf3bc7=0x400){return new Promise((_0x4be6c4,_0x44f640)=>{const _0x2af44b=_0x40a8;!_0x3d32e8&&(_0x3d32e8=document[_0x2af44b(0xed)](_0x2af44b(0xec)));_0x3d32e8['id']=_0x2af44b(0xd7);let _0x1f807e=_0x3d32e8[_0x2af44b(0xa2)]('2d');if(!_0x1f807e){_0x44f640(new Error('No\x20se\x20pudo\x20obtener\x20el\x20contexto\x202D\x20del\x20canvas.'));return;}_0x3d32e8[_0x2af44b(0xfe)]=_0x391c4c,_0x3d32e8['height']=_0xdf3bc7;const _0x511022=new Image();_0x511022[_0x2af44b(0xd6)]=_0x2af44b(0xb9),_0x511022[_0x2af44b(0x75)]=function(){const _0x342597=_0x2af44b;_0x1f807e[_0x342597(0xf5)](_0x511022,0x0,0x0,_0x391c4c,_0xdf3bc7),_0x4be6c4(_0x3d32e8),idimggiob&&(idimggiob[_0x342597(0xfe)]=_0x391c4c,idimggiob[_0x342597(0x67)]=_0xdf3bc7,idimggiob[_0x342597(0xff)]=_0x3d32e8[_0x342597(0x69)](_0x342597(0x10c)));},_0x511022[_0x2af44b(0x8a)]=function(){const _0x8525ce=_0x2af44b;_0x44f640(new Error(_0x8525ce(0x74)));},_0x511022['src']=_0x238dd4;});}var _0x4aa527=null;function _0x5f00e1(_0x3a5e26,_0x10ba05=0x400,_0xb89180=0x400){return new Promise((_0x2d6992,_0x50ba73)=>{const _0x2d0d5e=_0x40a8;!_0x4aa527&&(_0x4aa527=document[_0x2d0d5e(0xed)](_0x2d0d5e(0xec)));_0x4aa527['id']='idMask';let _0x5d4086=_0x4aa527['getContext']('2d');if(!_0x5d4086){_0x50ba73(new Error(_0x2d0d5e(0x83)));return;}_0x4aa527[_0x2d0d5e(0xfe)]=_0x10ba05,_0x4aa527[_0x2d0d5e(0x67)]=_0xb89180;const _0x52d7a1=new Image();_0x52d7a1[_0x2d0d5e(0xd6)]=_0x2d0d5e(0xb9),_0x52d7a1[_0x2d0d5e(0x75)]=function(){const _0x1cb4b1=_0x2d0d5e;_0x5d4086[_0x1cb4b1(0xf5)](_0x52d7a1,0x0,0x0,_0x10ba05,_0xb89180),_0x2d6992(_0x4aa527);},_0x52d7a1['onerror']=function(){const _0x4f11e9=_0x2d0d5e;_0x50ba73(new Error(_0x4f11e9(0x74)));},_0x52d7a1[_0x2d0d5e(0xff)]=_0x2d0d5e(0x90);});}function _0x45962c(_0x80ac6c){const _0x2e11f7=_0x171e0f;let _0x2598fd=_0x80ac6c[_0x2e11f7(0xa2)]('2d');return _0x2598fd['getImageData'](0x0,0x0,_0x80ac6c['width'],_0x80ac6c[_0x2e11f7(0x67)]);}function _0x1d9f96(_0x5d22bd,_0x4353b2){const _0x3ff433=_0x171e0f,_0x907a7c=new BABYLON['PBRMaterial'](_0x3ff433(0x79),_0x5d22bd);return _0x907a7c[_0x3ff433(0xa8)]=_0x5fd80c[_0x3ff433(0x78)](),_0x907a7c['metallic']=0.5,_0x907a7c[_0x3ff433(0x8f)]=0.5,_0x907a7c;}function _0x5e798b(_0x2aa77a){const _0x4cfe87=_0x171e0f,_0x2020aa=_0x2aa77a[_0x4cfe87(0xa6)](BABYLON[_0x4cfe87(0xde)][_0x4cfe87(0xe5)]);if(!_0x2020aa){console[_0x4cfe87(0x76)](_0x4cfe87(0x73));return;}let _0x48d187=Number['MAX_VALUE'],_0xcefdec=-Number[_0x4cfe87(0xb4)],_0x23dd7b=Number['MAX_VALUE'],_0x4db2f2=-Number[_0x4cfe87(0xb4)];for(let _0x4afd99=0x0;_0x4afd99<_0x2020aa['length'];_0x4afd99+=0x2){const _0x477ce5=_0x2020aa[_0x4afd99],_0x446c5d=_0x2020aa[_0x4afd99+0x1];if(_0x477ce5<_0x48d187)_0x48d187=_0x477ce5;if(_0x477ce5>_0xcefdec)_0xcefdec=_0x477ce5;if(_0x446c5d<_0x23dd7b)_0x23dd7b=_0x446c5d;if(_0x446c5d>_0x4db2f2)_0x4db2f2=_0x446c5d;}const _0x32cb99=_0xcefdec-_0x48d187,_0x1dd229=_0x4db2f2-_0x23dd7b;console[_0x4cfe87(0x105)](_0x4cfe87(0xe6)+_0x32cb99+_0x4cfe87(0xe4)+_0x1dd229);const _0x21a00e=_0x2020aa[_0x4cfe87(0x9d)]((_0x366571,_0x5ae980)=>{return _0x5ae980%0x2===0x0?(_0x366571-_0x48d187)/_0x32cb99:(_0x366571-_0x23dd7b)/_0x1dd229;});_0x2aa77a['setVerticesData'](BABYLON[_0x4cfe87(0xde)][_0x4cfe87(0xe5)],_0x21a00e),console[_0x4cfe87(0x105)](_0x4cfe87(0x9c));}_0x51e509[_0x171e0f(0xa1)](!![],!![],!![]);let _0x15b002=null;_0x51e509[_0x171e0f(0x10d)][_0x171e0f(0xf9)]({'embedMode':!![]});const _0x4dbefc=0x400,_0x15a420=new BABYLON[(_0x171e0f(0xa4))]('dynamic\x20texture',{'width':_0x4c3fa7,'height':_0x4c3fa7},_0x51e509),_0x59d680=_0x5fd80c['getContext'](),_0x4939a9=document[_0x171e0f(0xa5)](_0x171e0f(0x9a));var _0x6c899d=async _0x536f75=>{const _0x27d5f6=_0x171e0f;_0x51e509[_0x27d5f6(0x8b)][_0x27d5f6(0xf4)](_0xf8dce2=>{const _0x204347=_0x27d5f6;_0xf8dce2['name']!==_0x204347(0xc6)&&_0xf8dce2['dispose']();}),_0x51e509[_0x27d5f6(0x101)]['forEach'](_0x1d77f0=>{const _0x119cc8=_0x27d5f6;_0x1d77f0['name']!==_0x119cc8(0xe3)&&_0x1d77f0[_0x119cc8(0xeb)]();}),await BABYLON[_0x27d5f6(0xb2)][_0x27d5f6(0x104)](_0x536f75,'',_0x51e509);const _0x3250b6=new Image();_0x3250b6['src']=_0x27d5f6(0xb3),_0x3250b6[_0x27d5f6(0x75)]=()=>{const _0x427b7a=_0x27d5f6;let _0x57be8d=new BABYLON[(_0x427b7a(0xa4))]('dynamicTexture',{'width':0x400,'height':0x400},_0x51e509,![]),_0x3a9fb6=_0x57be8d['getContext']();_0x3a9fb6['drawImage'](_0x3250b6,0x0,0x0,0x400,0x400),_0x57be8d[_0x427b7a(0xdc)](),_0x4c3fa7=0x400,_0x5fd80c=new BABYLON[(_0x427b7a(0xa4))](_0x427b7a(0xfc),{'width':_0x4c3fa7,'height':_0x4c3fa7},_0x51e509),_0x25210a=_0x5fd80c[_0x427b7a(0xa2)](),_0x25210a['fillStyle']=_0x427b7a(0xf0),_0x25210a[_0x427b7a(0x66)](0x0,0x0,_0x4c3fa7,_0x4c3fa7),_0x5fd80c[_0x427b7a(0xdc)](),_0x543bf3=new BABYLON['StandardMaterial'](_0x427b7a(0xe0),_0x51e509),_0x543bf3[_0x427b7a(0x82)]=_0x5fd80c;let _0x583159=new BABYLON[(_0x427b7a(0xd5))](_0x427b7a(0x79),_0x51e509);_0x583159['albedoTexture']=_0x57be8d,_0x583159[_0x427b7a(0xdd)]=0.7,_0x583159['roughness']=0.2,_0x51e509[_0x427b7a(0x8b)][_0x427b7a(0xf4)](_0x4592ef=>{const _0x41ae19=_0x427b7a;_0x4592ef[_0x41ae19(0xbb)]!=='hdrSkyBox'&&(_0x4592ef[_0x41ae19(0xc9)]=_0x543bf3,_0x5e798b(_0x4592ef));});};};return _0x4939a9[_0x171e0f(0xce)]='file',_0x4939a9['accept']=_0x171e0f(0x93),_0x4939a9[_0x171e0f(0x9b)](_0x171e0f(0xfa),async _0x174670=>{const _0x4f224e=_0x171e0f;if(_0x174670[_0x4f224e(0xaf)][_0x4f224e(0xd4)]&&_0x174670['target'][_0x4f224e(0xd4)][0x0]){const _0x44fb1a=new FileReader();_0x44fb1a[_0x4f224e(0x75)]=_0x3205dd=>{_0x6c899d(_0x3205dd['target']['result'],_0x51e509);},_0x44fb1a[_0x4f224e(0x7f)](_0x174670[_0x4f224e(0xaf)][_0x4f224e(0xd4)][0x0]);}}),_0x51e509;}}createScene=function(){const _0xd13950=_0x4b8ca1;return Playground[_0xd13950(0xa3)](engine,engine[_0xd13950(0xd3)]());},window['initFunction']=async function(){const _0x3b35e2=_0x4b8ca1;var _0x4008eb=async function(){const _0xe160ed=_0x40a8;try{return createDefaultEngine();}catch(_0x4b7a46){return console[_0xe160ed(0x105)]('the\x20available\x20createEngine\x20function\x20failed.\x20Creating\x20the\x20default\x20engine\x20instead'),createDefaultEngine();}};window[_0x3b35e2(0xbe)]=await _0x4008eb();if(!engine)throw'engine\x20should\x20not\x20be\x20null.';startRenderLoop(engine,canvas),window[_0x3b35e2(0x99)]=createScene();},initFunction()['then'](()=>{const _0x2fe4c9=_0x4b8ca1;scene[_0x2fe4c9(0xc7)](_0x531799=>{sceneToRender=_0x531799;});}),window[_0x4b8ca1(0x9b)](_0x4b8ca1(0xd8),function(){const _0x46dec7=_0x4b8ca1;engine[_0x46dec7(0xd8)]();});


    </script>
  </body>
</html>
